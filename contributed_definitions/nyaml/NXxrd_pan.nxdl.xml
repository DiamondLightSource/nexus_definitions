<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
# 
# Copyright (C) 2014-2022 NeXus International Advisory Committee (NIAC)
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<!--n_values - symbols
! : additions
? : could or should be modified?-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="application" type="group" name="NXxrd_pan" extends="NXxrd" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <doc>
         NXxrd on top of NXmonopd
    </doc>
    <group type="Nxentry">
        <field name="definition">
            <doc>
                 Official NeXus NXDL schema to which this file conforms.
            </doc>
            <enumeration>
                <item value="NXxrd_pan"/>
            </enumeration>
        </field>
        <field name="method">
            <doc>
                 Method used to collect the data
                 default='X-Ray Diffraction (XRD)'
            </doc>
        </field>
        <!--dim:
!!!-->
        <field name="two_theta" type="NX_FLOAT" units="NX_ANGLE">
            <doc>
                 The 2-theta range of the difractogram
            </doc>
            <attribute name="units">
                <enumeration>
                    <item value="deg"/>
                </enumeration>
            </attribute>
        </field>
        <group type="NXinstrument">
            <group type="NXsource">
                <field name="xray_tube_material">
                    <doc>
                         Type of the X-ray tube.
                    </doc>
                    <enumeration>
                        <item value="Cu"/>
                        <item value="Cr"/>
                        <item value="Mo"/>
                        <item value="Fe"/>
                        <item value="Ag"/>
                        <item value="In"/>
                        <item value="Ga"/>
                    </enumeration>
                </field>
                <field name="xray_tube_current" type="NX_FLOAT" units="NX_CURRENT">
                    <doc>
                         Current of the X-ray tube.
                    </doc>
                </field>
                <field name="xray_tube_voltage">
                    <doc>
                         Voltage of the X-ray tube.
                    </doc>
                </field>
                <!--Unicode for alpha : \u03b1-->
                <field name="k_alpha_one" type="NX_FLOAT" units="NX_LENGTH">
                    <doc>
                         Wavelength of the K\u03b1 2 line.
                    </doc>
                    <attribute name="units">
                        <enumeration>
                            <item value="angstrom"/>
                        </enumeration>
                    </attribute>
                    <field name="k_alpha_two"/>
                </field>
                <field name="ratio_k_alphatwo_k_alphaone">
                    <doc>
                         K\u03b1 2/K\u03b1 1 intensity ratio.
                    </doc>
                </field>
                <field name="kbeta">
                    <doc>
                         Wavelength of the K\u00df line.
                    </doc>
                </field>
                <field name="source_peak_wavelength">
                    <doc>
                         Wavelength of the X-ray source. Used to convert from 2-theta to Q.
                    </doc>
                </field>
            </group>
            <group type="NXdetector">
                <field name="scan_axis">
                    <doc>
                         Axis scanned.
                    </doc>
                </field>
                <field name="integration_time">
                    <doc>
                         Integration time per channel.
                    </doc>
                </field>
            </group>
        </group>
        <group type="NXcollection">
            <doc>
                 Collect user inputs e.g. name or path of the input file.
            </doc>
            <field name="data_file">
                <doc>
                     Name of the data file.
                </doc>
            </field>
        </group>
        <group name="2theta_plot" type="NXdata">
            <doc>
                 Desired plot would be two_theta vs intensity.
            </doc>
            <group name="measured_intensity" type="AXISNAME">
                <doc>
                     Number of ecattered electrons per unit time.
                </doc>
            </group>
            <group name="two_theta" type="DATA">
                <doc>
                     The 2-theta range of the difractogram.
                </doc>
            </group>
        </group>
        <group name="q_plot" type="NXdata">
            <doc>
                 Desired plot would be q_vector vs intensity. 
                 q_vector:
                   doc: | 
                 	Wavevector for scatter energy.
                 intensity:
                   doc: |
                 	Number of ecattered electrons per unit time
            </doc>
        </group>
        <group type="NXdata">
            <field name="omega">
                <doc>
                     The omega range of the difractogram.
                </doc>
            </field>
            <field name="phi">
                <doc>
                     The phi range of the difractogram
                </doc>
            </field>
            <field name="chi">
                <doc>
                     
                </doc>
            </field>
        </group>
    </group>
</definition>
