<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition category="application" extends="NXobject" name="NXiv_temp" type="group" xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <doc>
         Application definition for temperature-dependent IV curve measurements.

         In this application definition, times should be specified always together
         with an UTC offset.

         This is the application definition describing temperature dependent IV curve
         measurements. For this a temperature is set. After reaching the temperature,
         a voltage sweep is performed. For each voltage a current is measured.
         Then, the next desired temperature is set and an IV measurement is performed.
         The application definition defines:
         - elements of the experimental instrument
         - calibration information if available
         - parameters used to tune the state of the sample
         - sample description
    </doc>
    <group type="NXentry">
        <field name="definition" type="NX_CHAR">
            <enumeration>
                <item value="NXtransport"/>
            </enumeration>
            <attribute name="version"></attribute>
        </field>
        <field name="experiment_identifier" recommended="true" type="NX_CHAR"></field>
        <field name="experiment_description" type="NX_CHAR"></field>
        <field name="start_time" recommended="true" type="NX_DATE_TIME"></field>
        <group optional="true" type="NXprocess">
            <doc>
                 Define the program that was used to generate the results file(s)
                 with measured data and metadata.
            </doc>
            <field name="program" type="NX_CHAR">
                <doc>
                     Commercial or otherwise defined given name of the program
                     (or a link to the instrument software).
                </doc>
                <attribute name="version" type="NX_CHAR">
                    <doc>
                         Either version with build number, commit hash, or description of an
                         (online) repository where the source code of the program and build
                         instructions can be found so that the program can be configured in
                         such a way that result files can be created ideally in a
                         deterministic manner.
                    </doc>
                </attribute>
                <attribute name="program_url" recommended="true" type="NX_CHAR">
                    <doc>
                         Website of the software.
                    </doc>
                </attribute>
            </field>
        </group>
        <group type="NXuser">
            <doc>
                 Contact information of at least the user of the instrument or the
                 investigator who performed this experiment. Adding multiple users if
                 relevant is recommended.
            </doc>
            <field name="name" type="NX_CHAR">
                <doc>
                     Name of the user.
                </doc>
            </field>
            <field name="affiliation" type="NX_CHAR" recommended="true">
                <doc>
                     Name of the affiliation of the user at the point in time when
                     the experiment was performed.
                </doc>
            </field>
            <field name="address" type="NX_CHAR" recommended="true">
                <doc>
                     Full address (street, street number, ZIP, city, country)
                     of the user's affiliation.
                </doc>
            </field>
            <field name="email" type="NX_CHAR" recommended="true">
                <doc>
                     Email address of the user.
                </doc>
            </field>
            <field name="orcid" recommended="true" type="NX_CHAR">
                <doc>
                     Author ID defined by https://orcid.org/.
                </doc>
            </field>
            <field name="telephone_number" recommended="true" type="NX_CHAR" optional="true">
                <doc>
                     Official telephone number of the user.
                </doc>
            </field>
        </group>
        <group type="NXinstrument">
            <group type="NXenvironment">
                <doc>
                     Describes an environment setup for the experiment.

                     All the setting values of the independently scanned controllers are listed under corresponding
                     NXsensor groups. Similarly, seperate NXsensor groups are used to store the readings from each
                     measurement sensor.

                     For example, in a temperature-dependent IV measurement, the temperature and voltage must be 
                     present as independently scanned controllers and the current sensor must also be present with
                     its readings. 
                </doc>
                <group type="NXsensor">
                    <field name="value" type="NX_FLOAT" units="NX_ANY">
                        <doc>
                            nominal setpoint or average value 
			                - need [n] as may be a vector

                            For each point in the scan space, either the nominal setpoint of an independently scanned controller or a representative average value of a measurement sensor is registered.
                            In case of a full multi-dimensional scan, the length of the scan space [n] is the product of the number of setpoints along all independently scanned controllers.
                        </doc>
                    </field>
                    <field name="run_control" recommended="true" type="NX_CHAR">
                        <attribute name="description">
                        <doc>
                             Free-text describing the data acquisition control: an internal
                             sweep using the built-in functionality of the controller device,
                             or a set/wait/read/repeat mechanism.
                        </doc>
                        </attribute>
                    </field>
                    <field name="calibration_time" type="NX_DATE_TIME">
                    <doc>
                         ISO8601 datum when calibration was last performed
                         before this measurement. UTC offset should be specified.
                    </doc>
                    </field>
                </group>
                <group optional="true" type="NXpid"></group>
                <field name="independent_controllers">
                    <doc>
                        A list of names of NXsensor groups used as independently scanned controllers.
                    </doc>
                </field>
                <field name="measurement_sensors">
                    <doc>
                        A list of names of NXsensor groups used as measurement sensors.
                    </doc>
                </field>
            </group>
        </group>
        <group type="NXsample">
            <field name="name" type="NX_CHAR"></field>
        </group>
        <group optional="true" type="NXdata">
            <attribute name="axes" recommended="true"></attribute>
            <attribute name="signal" recommended="true"></attribute>
        </group>
    </group>
</definition>
